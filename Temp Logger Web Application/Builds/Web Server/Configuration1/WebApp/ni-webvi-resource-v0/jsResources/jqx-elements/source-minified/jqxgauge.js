"use strict";JQX("jqx-gauge",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return'<div id="container">\n                <div class="jqx-digital-display-container">\n                    <jqx-numeric-text-box id="digitalDisplay"\n                                            class="jqx-digital-display"\n                                            decimal-separator="[[decimalSeparator]]"\n                                            max="[[max]]"\n                                            min="[[min]]"\n                                            readonly\n                                            input-format="[[scaleType]]"\n                                            scientific-notation="[[scientificNotation]]"\n                                            show-unit="[[showUnit]]"\n                                            unit="[[unit]]"\n                                            value="[[value]]"\n                                            word-length="[[wordLength]]">\n                    </jqx-numeric-text-box>\n                </div>\n                <div id="svgContainer" class="jqx-svg-container"></div>\n            </div>'}},{key:"ready",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this)}},{key:"val",value:function(e){var t=this,i="object"===(void 0===e?"undefined":babelHelpers.typeof(e))&&0===Object.keys(e).length;if(void 0===e||!1!==i)return t.value;if(e!=t.value){if(t._validateValue(e,t.value),!t._isVisible()||t._renderingSuspended)return void(t._renderingSuspended=!0);t._updatePointer()}}},{key:"_createElement",value:function(){var e=this;if(e._numericProcessor=new JQX.Utilities.NumericProcessor(e,"scaleType"),e._numberRenderer=new JQX.Utilities.NumberRenderer,e._draw=new JQX.Utilities.Draw(e.$.svgContainer),!e._isVisible())return void(e._renderingSuspended=!0);e._renderingSuspended=!1,e._checkMissingModules(),e._setSettingsObject(),e._wordLengthNumber=e._numericProcessor.getWordLength(e.wordLength),e._measurements={},e._validateInitialPropertyValues(),e._getMeasurements(),e._setDrawVariables(),e._getRange(),e._numericProcessor.getAngleRangeCoefficient(),e._validateValue(),e._initTickIntervalHandler(),e._renderAnalogItems(),e.setFocusable(!0),e._setUpdatePointerMethod()}},{key:"propertyChangedHandler",value:function(e,t,i){function a(i,a,r,l){var s=i&&a?"both":e;n._validateMinMax(s,!1,t),"logarithmicScale"!==e&&"scaleType"!==e&&("wordLength"!==e&&n[e]===t||"wordLength"===e&&n.min===r&&n.max===l)||(n._setDrawVariables(),n._getRange(),n._numericProcessor.getAngleRangeCoefficient(),n._initTickIntervalHandler(),n._renderAnalogItems(),n._validateValue(),n._updatePointer())}var n=this;if(!n._isVisible()||n._renderingSuspended)return void(n._renderingSuspended=!0);switch(e){case"analogDisplayType":n._getMeasurements(),n._renderAnalogItems(),"needle"===i&&"center"===n.digitalDisplayPosition?n.digitalDisplayPosition="bottom":"needle"===t&&"bottom"===n.digitalDisplayPosition&&(n.digitalDisplayPosition="center"),n._setUpdatePointerMethod();break;case"coerce":if(i){var r=n.value;n._validateValue(r),n._updatePointer(),n._valueBeforeCoercion=r}else void 0!==n._valueBeforeCoercion&&(n._validateValue(n._valueBeforeCoercion),n._updatePointer());break;case"decimalSeparator":case"scientificNotation":case"showUnit":case"unit":n._initTickIntervalHandler(),n._renderAnalogItems();break;case"digitalDisplay":case"digitalDisplayPosition":case"mechanicalAction":case"messages":case"readonly":break;case"disabled":n.setFocusable(void 0===n._focusable||n._focusable);break;case"drawNeedle":if("needle"!==n.analogDisplayType)return;null===t&&n._draw.removeElement(n._needle),n._updatePointer();break;case"endAngle":case"startAngle":n._validateAngles(),n._numericProcessor.getAngleRangeCoefficient(),n._renderAnalogItems();break;case"interval":n._numericProcessor.validateInterval(n.interval),n._validateValue(),n._updatePointer();break;case"inverted":case"labelFormatFunction":case"showRanges":n._renderAnalogItems();break;case"labelsVisibility":if("all"===t&&"endPoints"===i||"endPoints"===t&&"all"===i)return;n._getMeasurements(),n._renderAnalogItems();break;case"logarithmicScale":n._initTickIntervalHandler(),a(!0,!0);break;case"max":case"min":a("min"===e,"max"===e);break;case"needlePosition":"needle"===n.analogDisplayType&&n._updatePointer();break;case"precisionDigits":case"significantDigits":"precisionDigits"===e&&"integer"===n.scaleType&&n.error(n.localize("noInteger",{elementType:n.nodeName.toLowerCase(),property:e})),"significantDigits"===e&&null!==n.precisionDigits?n.precisionDigits=null:"precisionDigits"===e&&null!==n.significantDigits&&(n.significantDigits=null),null!==i&&(n.$.digitalDisplay.precisionDigits=n.precisionDigits,n.$.digitalDisplay.significantDigits=n.significantDigits),n._initTickIntervalHandler(),n._renderAnalogItems();break;case"ranges":if(!n.showRanges)return;n._renderAnalogItems();break;case"scaleType":n._numericProcessor=new JQX.Utilities.NumericProcessor(n,"scaleType"),a(!0,!0);break;case"scalePosition":case"ticksPosition":n._getMeasurements(),n._renderAnalogItems();break;case"ticksVisibility":if("minor"===t&&"major"===i||"major"===t&&"minor"===i)return;n._getMeasurements(),n._renderAnalogItems();break;case"value":n._validateValue(i,t);var l=i.toString();n.value.toString()===l&&(n._drawValue=n.logarithmicScale?Math.log10(l).toString():l),n._updatePointer();break;case"wordLength":n._wordLengthNumber=n._numericProcessor.getWordLength(n.wordLength),"integer"===n.scaleType&&a(!0,!0,n.min,n.max)}}},{key:"_addAnalogDisplay",value:function(){var e=this,t=e._measurements,i=t.radius,a=e._draw;if("needle"===e.analogDisplayType)e._drawNeedle(!1),e._centralCircle=a.circle(i,i,t.needleWidth+5,{class:"jqx-needle-central-circle"});else{var n=i-e._distance.trackDistance-t.trackBorderWidth/2-1;e._track=a.pieslice(i,i,n-t.trackWidth,n,e.startAngle,e.endAngle,0,{class:"jqx-track"}),new JQX.Utilities.InputEvents(e._track).down(function(t){e._SVGElementDownHandler(t)})}}},{key:"_calculateTickAndLabelDistance",value:function(){var e=this,t=e._measurements;if("none"===e.scalePosition)return e._plotLabels=!1,e._plotTicks=!1,t.innerRadius=t.radius,{majorTickDistance:0,minorTickDistance:0,labelDistance:0,needleDistance:0,trackDistance:0};var i=e._tickIntervalHandler.labelsSize,a=e._largestLabelSize||Math.max(i.minLabelSize,i.minLabelOtherSize,i.maxLabelSize,i.maxLabelOtherSize),n=1,r=void 0,l=void 0,s=void 0,o=0;return e._largestLabelSize=a,"outside"===e.scalePosition&&(n=a,r=n+t.majorTickSize-t.minorTickSize,l=0),"needle"===e.analogDisplayType?(s="outside"===e.scalePosition?n+t.majorTickSize:n+t.majorTickSize+a,"none"===e.ticksVisibility&&(l=0,s-=t.majorTickSize),"none"===e.labelsVisibility&&(s-=a,"outside"===e.scalePosition&&(n-=a,r-=a))):"none"===e.labelsVisibility&&"none"===e.ticksVisibility?o=0:"outside"===e.scalePosition?"scale"===e.ticksPosition?("none"===e.labelsVisibility&&(n=1,r=1+t.majorTickSize-t.minorTickSize),o="none"!==e.ticksVisibility?n+t.majorTickSize+2:a):"none"!==e.labelsVisibility?(r-=(t.trackWidth+t.trackBorderWidth)/4,o=n-1):(n=1,r=(t.trackWidth+t.trackBorderWidth)/4+1,o=0):"scale"===e.ticksPosition?(n=t.trackWidth+1.5*t.trackBorderWidth+2,"none"===e.ticksVisibility&&(l=n)):r=(t.trackWidth+t.trackBorderWidth)/4+1,void 0===r&&(r=n),void 0===l&&(l=n+t.majorTickSize),t.innerRadius=t.radius-l,delete e._plotLabels,delete e._plotTicks,delete e._equalToHalfRadius,"inside"===e.scalePosition?t.innerRadius<a&&(e._plotLabels=!1,"scale"===e.ticksPosition?"needle"!==e.analogDisplayType&&(e._plotTicks=!1):(e._equalToHalfRadius=!0,t.innerRadius=t.radius/2)):t.radius-o-t.trackBorderWidth<t.trackWidth&&(t.trackWidth=t.radius-o-t.trackBorderWidth,t.lineSize=t.trackWidth+t.trackBorderWidth,"track"===e.ticksPosition&&(t.majorTickSize=t.lineSize,t.minorTickSize=t.majorTickSize/2,r=n+(t.majorTickSize-t.minorTickSize)/2)),{majorTickDistance:n,minorTickDistance:r,labelDistance:l,needleDistance:s,trackDistance:o}}},{key:"_calculateTickInterval",value:function(){var e=this,t=e._tickIntervalHandler.getInterval("radial",e._drawMin,e._drawMax,e.$.container,e.logarithmicScale);t.major!==e._majorTicksInterval?(e._intervalHasChanged=!0,e._majorTicksInterval=t.major):e._intervalHasChanged=!0,e._minorTicksInterval=t.minor}},{key:"_checkMissingModules",value:function(){var e=[];try{BigNumber}catch(t){e.push("jqxmath.js")}if(void 0===JQX.Utilities.Draw&&e.push("jqxdraw.js"),void 0===JQX.Utilities.NumberRenderer&&e.push("jqxnumberrenderer.js"),void 0===JQX.Utilities.NumericProcessor&&e.push("jqxnumericprocessor.js"),void 0===JQX.Utilities.TickIntervalHandler&&e.push("jqxtickintervalhandler.js"),void 0===JQX.NumericTextBox&&e.push("jqxnumerictextbox.js"),e.length>0){var t=this;t.error(t.localize("missingReference",{elementType:t.nodeName.toLowerCase(),files:e.join(", ")}))}}},{key:"_computeNeedlePointsCenter",value:function(e,t){var i=this,a=i._measurements,n=a.innerRadius,r=a.radius,l=Math.sin(t),s=Math.cos(t),o=void 0;return o="inside"===i.scalePosition?.9*(n-i._largestLabelSize):.9*(n-i._distance.needleDistance),"M "+(r+e*s)+","+(r-e*l)+" L "+(r-e*s)+","+(r+e*l)+" L "+(r+o*l)+","+(r+o*s)+" Z"}},{key:"_computeNeedlePointsEdge",value:function(e,t,i){var a=this,n=a._measurements.radius,r=n-a._distance.needleDistance,l=r-i,s=Math.sin(t),o=Math.cos(t),d=n+l*s,c=n+l*o;return"M "+(d+e*o)+","+(c-e*s)+" L "+(d-e*o)+","+(c+e*s)+" L "+(n+r*s)+","+(n+r*o)+" Z"}},{key:"_documentMoveHandler",value:function(e){if(this._dragging){var t=this,i=t._getAngleByCoordinate(e.pageX,e.pageY),a=t._getQuadrant(i),n=t._getRotationDirection();if(t._normalizedStartAngle===t.endAngle){var r=void 0;t.inverted?t._lockCW&&"cw"===n?(r=t._normalizedStartAngle,t._unlockRotation("_lockCW",i,a,r,{firstCondition:i<r,secondCondition:i>r})):t._lockCCW&&"ccw"===n&&(r=t.endAngle,t._unlockRotation("_lockCCW",i,a,r,{firstCondition:i>r,secondCondition:i<r})):t._lockCW&&"ccw"===n?(r=t.endAngle,t._unlockRotation("_lockCW",i,a,r,{firstCondition:i>r,secondCondition:i<r})):t._lockCCW&&"cw"===n&&(r=t._normalizedStartAngle,t._unlockRotation("_lockCCW",i,a,r,{firstCondition:i<r,secondCondition:i>r}))}else t._lockCW&&"ccw"===n&&!t._outsideRange&&t._getAngleDifference(i,t._normalizedStartAngle)<10?t._lockCW=!1:t._lockCCW&&"cw"===n&&!t._outsideRange&&t._getAngleDifference(i,t.endAngle)<10&&(t._lockCCW=!1);if(t._angle=i,t._quadrant=a,e.originalEvent&&(e.originalEvent.stopPropagation(),e.originalEvent.preventDefault()),!t._lockCW&&!t._lockCCW){var l=t._numericProcessor.getValueByAngle(i);if(t._normalizedStartAngle===t.endAngle){var s=t._numericProcessor.lockRotation("cw"===n&&!t.inverted||"ccw"===n&&t.inverted,l);void 0!==s&&(l=s)}else"ccw"===n&&t._outsideEnd?t._lockCCW=!0:"cw"===n&&t._outsideStart&&(t._lockCW=!0);void 0!==l&&l.toString()!==t.value&&(t._updatePointer(l),"switchWhenReleased"!==t.mechanicalAction?t._numericProcessor.updateGaugeValue(l):t._valueAtMoveEnd=l)}}}},{key:"_documentUpHandler",value:function(){var e=this;if(e._dragging&&(e._lockCW=!1,e._lockCCW=!1,e._dragging=!1,e.removeAttribute("dragged"),"switchWhileDragging"!==e.mechanicalAction)){var t="switchUntilReleased"===e.mechanicalAction?e._valueAtDragStart:e._valueAtMoveEnd;e._updatePointer(t),e._numericProcessor.updateGaugeValue(t)}}},{key:"_downHandler",value:function(e,t){var i=this;if("needle"!==i.analogDisplayType&&!t||i.disabled||i.readonly||"buttons"in e&&1!==e.buttons||1!==e.which)return void e.stopPropagation();var a=e.pageX,n=e.pageY;if(i._measurements.center=i._getCenterCoordinates(),"needle"===i.analogDisplayType){if(Math.sqrt(Math.pow(i._measurements.center.x-a,2)+Math.pow(i._measurements.center.y-n,2))>i._measurements.radius)return void e.stopPropagation()}"switchUntilReleased"===i.mechanicalAction&&(i._valueAtDragStart=i.value),i._angle=i._getAngleByCoordinate(a,n),i._quadrant=i._getQuadrant(i._angle);var r=i._numericProcessor.getValueByAngle(i._angle);void 0!==r&&r.toString()!==i.value&&(i._updatePointer(r),"switchWhenReleased"!==i.mechanicalAction?i._numericProcessor.updateGaugeValue(r):i._valueAtMoveEnd=r),i._dragging=!0,i.setAttribute("dragged","")}},{key:"_drawFill",value:function(e,t){var i=this;if("needle"!==i.analogDisplayType){void 0===t&&(t=i._number);var a=i._measurements,n=a.radius,r=n-i._distance.trackDistance-a.trackBorderWidth/2-1;if("fill"===i.analogDisplayType){var l=i._numericProcessor.getAngleByValue(t,!0,!0),s=void 0,o=void 0;i.inverted?(s=i.startAngle,o=l):(s=l,o=i.endAngle),e?i._fill.setAttribute("d",i._draw.pieSlicePath(n,n,r-a.trackWidth,r,s,o,0)):(i._fill=i._draw.pieslice(n,n,r-a.trackWidth,r,s,o,0,{class:"jqx-value"}),new JQX.Utilities.InputEvents(i._fill).down(function(e){i._SVGElementDownHandler(e)}))}else{var d=r+a.trackBorderWidth/2,c=d-a.lineSize,u=i._numericProcessor.getAngleByValue(t),_=Math.sin(u),g=Math.cos(u),m=n+d*_,v=n+d*g,h=n+c*_,f=n+c*g;e?(i._line.setAttribute("x1",m),i._line.setAttribute("y1",v),i._line.setAttribute("x2",h),i._line.setAttribute("y2",f)):(i._line=i._draw.line(m,v,h,f,{class:"jqx-line"}),new JQX.Utilities.InputEvents(i._line).down(function(e){i._SVGElementDownHandler(e)}))}}}},{key:"_drawLabel",value:function(e,t,i,a){var n=this,r=n._measurements,l=r.radius,s={class:"jqx-label"+(!1!==a?" jqx-label-middle":""),"font-size":r.fontSize,"font-family":r.fontFamily,"font-weight":r.fontWeight,"font-style":r.fontStyle};t=n._formatLabel(t.toString(),!1);var o=n._draw.measureText(t,0,s),d=l-i-n._largestLabelSize/2,c=l+d*Math.sin(e),u=l+d*Math.cos(e);n._draw.text(t,Math.round(c)-o.width/2,Math.round(u)-o.height/2,o.width,o.height,0,s)}},{key:"_drawNeedle",value:function(e,t){var i=this,a=i._measurements;void 0===t&&(t=i._number);var n=i._numericProcessor.getAngleByValue(t);if(i.drawNeedle){if(i._customSVGElements=i.drawNeedle(i,i._draw,a.radius,n,i._distance.needleDistance),i._customSVGElements)for(var r=i._customSVGElements[0].parentElement||i._customSVGElements[0].parentNode,l=0;l<i._customSVGElements.length;l++)r.insertBefore(i._customSVGElements[l],i._centralCircle)}else{var s=void 0;s="center"===i.needlePosition?i._computeNeedlePointsCenter(a.needleWidth,n):i._computeNeedlePointsEdge(a.needleWidth,n,a.needleLength),e?i._needle.setAttribute("d",s):i._needle=i._draw.path(s,{class:"jqx-needle"})}}},{key:"_drawRanges",value:function(){var e=this,t=e._numericProcessor,i=e.ranges;if(e.showRanges&&0!==i.length){var a=e._measurements,n=a.radius,r=void 0,l=void 0,s=void 0,o=void 0;"needle"===e.analogDisplayType?(l=a.rangeSize,"inside"===e.scalePosition?r=n-1:(r=n-e._distance.needleDistance-2,"none"===e.labelsVisibility&&"none"===e.ticksVisibility&&(r+=1))):(r=n-e._distance.trackDistance-a.trackBorderWidth/2-1,l=a.trackWidth),e.inverted?(s="endValue",o="startValue"):(s="startValue",o="endValue");for(var d=0;d<i.length;d+=1){var c=i[d],u=t.validateColorRange(c[s]),_=t.validateColorRange(c[o]);e._draw.pieslice(n,n,r-l,r,t.getAngleByValue(_,!0,!0),t.getAngleByValue(u,!0,!0),0,{class:"jqx-range "+c.className})}}}},{key:"_drawTick",value:function(e,t,i){var a=this,n=a._measurements,r=n.radius,l="jqx-tick",s=void 0;"major"===i?s=n.majorTickSize:(s=n.minorTickSize,l+=" jqx-tick-minor");var o=t-s,d=r+t*Math.sin(e),c=r+t*Math.cos(e),u=r+o*Math.sin(e),_=r+o*Math.cos(e);a._draw.line(d,c,u,_,{class:l})}},{key:"_getAngleByCoordinate",value:function(e,t){var i=this,a=i._measurements.center,n=Math.atan2(t-a.y,e-a.x),r=-1*n*180/Math.PI;return r<0&&(r+=360),i._actualAngle=r,i._normalizedStartAngle===i.endAngle||function(e,t,i){for(;t<e;)t+=360;for(;i<e;)i+=360;return i>=e&&i<=t}(i._normalizedStartAngle,i.endAngle,r)?(i._outsideRange=!1,i._outsideStart=!1,i._outsideEnd=!1):(i._getAngleDifference(r,i._normalizedStartAngle)<=i._getAngleDifference(r,i.endAngle)?(r=i._normalizedStartAngle,i._outsideStart=!0,i._outsideEnd=!1):(r=i.endAngle,i._outsideEnd=!0,i._outsideStart=!1),i._outsideRange=!0),r}},{key:"_getAngleDifference",value:function(e,t){var i=Math.abs(t-e)%360;return i>180?360-i:i}},{key:"_getCenterCoordinates",value:function(){var e=this,t=e.getBoundingClientRect(),i=e._measurements.radius,a=document.body.scrollLeft||document.documentElement.scrollLeft,n=document.body.scrollTop||document.documentElement.scrollTop;return{x:t.left+a+i,y:t.top+n+i}}},{key:"_getMeasurements",value:function(){var e=this;if(!e._isVisible()||e._renderingSuspended)return void(e._renderingSuspended=!0);var t=e._measurements;t.cachedWidth=e.offsetWidth,t.cachedHeight=e.offsetHeight,t.radius=t.cachedWidth/2;var i=document.createElement("div");e.appendChild(i),i.className="jqx-tick",t.majorTickSize=i.offsetWidth,i.className+=" jqx-tick-minor",t.minorTickSize=i.offsetWidth,i.className="jqx-label";var a=window.getComputedStyle(i);t.fontSize=a.fontSize,t.fontFamily=a.fontFamily,t.fontWeight=a.fontWeight,t.fontStyle=a.fontStyle,t.trackWidth=0,t.trackBorderWidth=0,"needle"===e.analogDisplayType?(i.className="jqx-needle",t.needleWidth=i.offsetWidth,t.needleLength=i.offsetHeight,i.className="jqx-range",t.rangeSize=i.offsetWidth):(i.className="jqx-track",t.trackBorderWidth=parseFloat(a.strokeWidth),t.trackWidth=Math.min(i.offsetWidth,t.radius-t.trackBorderWidth),t.lineSize=t.trackWidth+t.trackBorderWidth,"track"===e.ticksPosition&&(t.majorTickSize=t.lineSize,t.minorTickSize=t.majorTickSize/2)),e.removeChild(i)}},{key:"_getQuadrant",value:function(e){return e>270?4:e>180?3:e>90?2:1}},{key:"_getRotationDirection",value:function(){var e=this,t=e._getQuadrant(e._actualAngle);return e._actualAngle<e._angle&&(1!==t||4!==e._quadrant)||e._actualAngle>e._angle&&4===t&&1===e._quadrant?"cw":"ccw"}},{key:"_initTickIntervalHandler",value:function(){var e=this;if(!e._isVisible()||e._renderingSuspended)return void(e._renderingSuspended=!0);var t=e._formatLabel(e.min,!1),i=e._formatLabel(e.max,!1);e._tickIntervalHandler=new JQX.Utilities.TickIntervalHandler(e,t,i,"jqx-label",e._settings.size,"integer"===e.scaleType,e.logarithmicScale)}},{key:"_isVisible",value:function(){var e=this;return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}},{key:"_keydownHandler",value:function(e){var i=this,a=i.value.toString();i.value.toString()!==i._number.toString()&&(i.value=i._number.toString(),i.$.digitalDisplay.value=i._number.toString()),babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_keydownHandler",this).call(this,e),i.value.toString()!==a&&i.$.fireEvent("change",{value:i.value,oldValue:a})}},{key:"_normalizeAngle",value:function(e){return e%=360,e<0&&(e+=360),e}},{key:"_renderAnalogItems",value:function(e){var t=this;if(!t._isVisible()||t._renderingSuspended)return void(t._renderingSuspended=!0);if(t._draw.clear(),delete t._needle,delete t._centralCircle,delete t._track,delete t._fill,delete t._line,!1!==e&&(t._distance=t._calculateTickAndLabelDistance()),!1!==t._plotTicks&&!1!==t._plotLabels){t._calculateTickInterval();var i=t._cachedLabelsSize,a=Math.max(i.minLabelSize,i.minLabelOtherSize,i.maxLabelSize,i.maxLabelOtherSize);!1!==e&&t._largestLabelSize!==a&&(t._largestLabelSize=a,t._distance=t._calculateTickAndLabelDistance(),t._calculateTickInterval())}t._drawRanges(),t._addAnalogDisplay(),t._numericProcessor.addGaugeTicksAndLabels(),t._drawFill(!1)}},{key:"_resizeHandler",value:function(){var e=this;if(!e._isVisible())return void(e._renderingSuspended=!0);if(e._renderingSuspended)return void e._createElement();var t=e._measurements;e._renderingSuspended||t.cachedWidth===e.offsetWidth&&t.cachedHeight===e.offsetHeight||(e.offsetWidth!==e.offsetHeight&&(t.cachedWidth!==e.offsetWidth?e.style.height=e.offsetWidth+"px":t.cachedHeight!==e.offsetHeight&&(e.style.width=e.offsetHeight+"px")),t.cachedWidth=e.offsetWidth,t.cachedHeight=e.offsetHeight,t.radius=t.cachedWidth/2,e._equalToHalfRadius?t.innerRadius=t.radius/2:t.innerRadius=t.radius-e._distance.labelDistance,e._renderAnalogItems(!1))}},{key:"_selectStartHandler",value:function(e){this._dragging&&e.preventDefault()}},{key:"_setUpdatePointerMethod",value:function(){var e=this;"needle"===e.analogDisplayType?e._updatePointer=function(t){if(e._customSVGElements)for(var i=0;i<e._customSVGElements.length;i++)e._draw.removeElement(e._customSVGElements[i]);e._drawNeedle(!0,t)}:e._updatePointer=function(t){e._drawFill(!0,t)}}},{key:"_styleChangedHandler",value:function(){var e=this;return e._isVisible()?e._renderingSuspended?void e._createElement():(e._getMeasurements(),e._initTickIntervalHandler(),void e._renderAnalogItems()):void(e._renderingSuspended=!0)}},{key:"_SVGElementDownHandler",value:function(e){var t=this,i=t.context;t.context=t,t._downHandler(e,!0),t.context=i}},{key:"_unlockRotation",value:function(e,t,i,a,n){var r=this,l=n.firstCondition,s=n.secondCondition,o=r._getQuadrant(a);(l&&(4!==i||1!==o)||s&&4===i&&1===o)&&r._getAngleDifference(t,a)<10&&(r[e]=!1)}},{key:"_updateValue",value:function(e){this._numericProcessor.updateGaugeValue(e)}},{key:"_validate",value:function(e,t){var i=this;i._validateValue(t),i._updatePointer()}},{key:"_validateAngles",value:function(){var e=this;e._normalizedStartAngle=e._normalizeAngle(e.startAngle),e.endAngle=e._normalizeAngle(e.endAngle),e._normalizedStartAngle<e.endAngle?e.startAngle=e._normalizedStartAngle:e.startAngle=e._normalizedStartAngle-360,e._angleDifference=e.endAngle-e.startAngle}},{key:"_validateInitialPropertyValues",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_validateInitialPropertyValues",this).call(this);var e=this;e.offsetWidth<e.offsetHeight?e.style.height=e.offsetWidth+"px":e.offsetWidth>e.offsetHeight&&(e.style.width=e.offsetHeight+"px"),e._validateAngles(),"fill"!==e.analogDisplayType&&"line"!==e.analogDisplayType||"bottom"!==e.digitalDisplayPosition||(e.digitalDisplayPosition="center"),null!==e.significantDigits?e.$.digitalDisplay.significantDigits=e.significantDigits:null!==e.precisionDigits&&(e.$.digitalDisplay.precisionDigits=e.precisionDigits);if(e.$.digitalDisplay.$.input!==undefined){e.$.digitalDisplay.$.input.setAttribute("tabindex",-1);}}},{key:"_validateValue",value:function(e,t){var i=this,a=i._numericProcessor;e=void 0===e?i.value:e.toString(),a.regexScientificNotation.test(e)&&(e=a.scientificToDecimal(e)),isNaN(e)&&(e=t||0);var n=a.getCoercedValue(a.createDescriptor(e,!0,!0,!1),!1);i._number=a.validate(n,a.createDescriptor(i._minObject),a.createDescriptor(i._maxObject));var r=n.toString(),l=i._number.toString();i.value=r,i._drawValue=i.logarithmicScale?Math.log10(l).toString():l,i.$.digitalDisplay.value=r,delete i._valueBeforeCoercion}}],[{key:"properties",get:function(){return{analogDisplayType:{value:"needle",allowedValues:["needle","fill","line"],type:"string"},digitalDisplay:{value:!1,type:"boolean"},digitalDisplayPosition:{value:"bottom",allowedValues:["top","bottom","right","left","center"],type:"string"},drawNeedle:{value:null,type:"function"},endAngle:{value:210,type:"number"},needlePosition:{value:"center",allowedValues:["center","edge"],type:"string"},ranges:{value:[],type:"array"},scalePosition:{value:"inside",allowedValues:["outside","inside","none"],type:"string"},showRanges:{value:!1,type:"boolean"},startAngle:{value:-30,type:"number"}}}},{key:"listeners",get:function(){return{down:"_downHandler",resize:"_resizeHandler",styleChanged:"_styleChangedHandler","document.move":"_documentMoveHandler","document.up":"_documentUpHandler","document.selectstart":"_selectStartHandler",keydown:"_keydownHandler"}}}]),t}(JQX.Tank));
//# sourceMappingURL=jqxgauge.js.map
