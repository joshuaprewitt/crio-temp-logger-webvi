"use strict";!function(){var e=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"findGraph",value:function(){return document.querySelector("[ni-control-id='"+this.graphName+"']")||document.querySelector("[graph-ref='"+this.graphName+"']")}},{key:"template",value:function(){return""}}],[{key:"properties",get:function(){return Object.assign({},babelHelpers.get(t.__proto__||Object.getPrototypeOf(t),"properties",this),{graphName:{value:"",type:"string"},isInEditMode:{value:!1,type:"boolean"}})}}]),t}(window.JQX.BaseElement);NationalInstruments.HtmlVI.Elements.GraphLegend=e}();
"use strict";!function(){var e=NationalInstruments.HtmlVI.NISupport,t=NationalInstruments.Globals.jQuery;NationalInstruments.HtmlVI.Elements.LegendHelpers=function(e,t){this.helpers=e,this.legendItemDisplay=t};var n=NationalInstruments.HtmlVI.Elements.LegendHelpers,o=n.prototype;o.addButtons=function(e,n,o){var l,s,a=this;e.children.forEach(function(e){l=document.createElement("button"),l.type="button",l.className="ni-button",t(l).jqxToggleButton({toggled:!1}),""!==e.cssClass&&l.classList.add(e.cssClass),t(l).on("click",function(){this!==s&&(t(s).jqxToggleButton("toggle"),s=this),a.helpers.handleClick(e.name,null,o),a.legendItemDisplay.updateShape(o)});var r=a.helpers.getState(e.name,o);void 0!==r&&(t(l).jqxToggleButton({toggled:r}),!0===r&&(s=l)),n.appendChild(l)})},o.addComboBox=function(n,o,l,s){var a,r=this,i=0,c=!0;for(t(o).jqxDropDownList({width:"100%",dropDownHeight:26*n.children.length}),a=0;a<n.children.length;a++){var d=e.i18n(n.children[a].tag);"[msg_"===d.substring(0,5)&&(d=n.name),t(o).jqxDropDownList("addItem",{id:n.children[a].name,html:'<div style="width: 100%"><span class="ni-selector-title">'+d+'</span><div class="ni-selector-icon '+n.children[a].cssClass+'" style="background-size: '+s+"px 16px; width: "+(s+4)+'px; "></div></div>'});!0===this.helpers.getState(n.children[a].name,l)&&(i=a)}t(o).on("select",function(e){var t=e.args;!0!==c&&(r.helpers.handleClick(t.item.label.id,null,l),r.legendItemDisplay.updateShape(l))}),t(o).jqxDropDownList({selectedIndex:i}),c=!1},o.getTextElementByColor=function(e){if("transparent"===e||""===e.hex)return t('<div class="ni-colorbox-content">transparent</div>');var n=t('<div class="ni-colorbox-content">#'+e.hex+"</div>"),o=.299*e.r+.587*e.g+.114*e.b,l=255-o<105?"Black":"White";return n.css("color",l),n.css("background","#"+e.hex),n.addClass("jqx-rc-all"),n},o.addColorBox=function(e,n,o){var l=this,s=document.createElement("div");t(n).append(s);var a=document.createElement("div");a.className="legend-colorbox-colorbox",s.appendChild(a),t(a).jqxColorPicker({width:"200px",height:"220px",colorMode:"hue"}),t(a).on("colorchange",function(s){t(n).jqxDropDownButton("setContent",l.getTextElementByColor(s.args.color)),l.helpers.handleClick(e.name,s.args.color,o),l.legendItemDisplay.updateShape(o)}),t(n).jqxDropDownButton({width:"inherit"});var r=this.helpers.getState(e.name,o),i=t.color.parse(r);t(n).jqxDropDownButton("setContent",this.getTextElementByColor(new t.jqx.color({rgb:i})))},o.addCheckBox=function(e,n,o){var l=this,s=t(n).jqxCheckBox();s.className="legend-checkbox",t(s).on("change",function(t){l.helpers.handleClick(e.name,t.args.checked,o)});var a=l.helpers.getState(e.name,o);void 0!==a&&t(s).jqxCheckBox({checked:a})}}();
"use strict";!function(){var e=NationalInstruments.HtmlVI.NISupport,t=NationalInstruments.Globals.jQuery,n=function(e){e.createRow(e.tbl,e.nPlots),e.helpers.addRenderer(e.nPlots),e.nPlots++},i=function(e,t){e.removeRow(e.tbl,t),e.helpers.clearRenderer(t),e.nPlots--},a=function(a){function s(){return babelHelpers.classCallCheck(this,s),babelHelpers.possibleConstructorReturn(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return babelHelpers.inherits(s,a),babelHelpers.createClass(s,[{key:"created",value:function(){babelHelpers.get(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"created",this).call(this),this.tbl=void 0,this.nPlots=0,this.currentExpander=null,this.helpers=new NationalInstruments.HtmlVI.Elements.PlotLegendHelpers,this.plotLegendItemDisplay=new NationalInstruments.HtmlVI.Elements.PlotLegendItemDisplay(this.helpers),this.uihelpers=new NationalInstruments.HtmlVI.Elements.LegendHelpers(this.helpers,this.plotLegendItemDisplay),this.deferLegendUpdates=!1}},{key:"plotAdded",value:function(){this.deferLegendUpdates||n(this)}},{key:"plotRemoved",value:function(e){this.deferLegendUpdates||i(this,e)}},{key:"syncPlotLegendWithGraph",value:function(){if(this.deferLegendUpdates){var e=this.findGraph();if(!e)return;for(var t=e.plots.length;t<this.nPlots;){var a=this.nPlots-1;i(this,a)}for(;t>this.nPlots;)n(this)}}},{key:"createRows",value:function(){var e;for(e=0;e<this.nPlots;e++)this.createRow(this.tbl,e)}},{key:"throttlePlotUpdates",value:function(e){var t=this.findGraph();null!==t&&(t.throttlePlotUpdates(e),this.deferLegendUpdates=e)}},{key:"attachToGraph",value:function(e){e.isReady&&(this.nPlots=e.plots.length,this.createRows(),e.registerPlotLegend(this))}},{key:"attached",value:function(){var e,t=this;babelHelpers.get(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"attached",this).call(this),this.helpers.graph=this.findGraph(),this.helpers.isInEditMode=this.isInEditMode,e=document.createElement("div"),e.style.width="100%",e.style.height="100%",e.style.overflowX="auto",e.style.overflowY="hidden",this.appendChild(e),this.tbl=document.createElement("table"),this.tbl.style.width="100%",this.tbl.style.height="100%",e.appendChild(this.tbl),this.addEventListener("ni-cartesian-plot-attached",function(){t.plotAdded(),t.helpers.clearCache()}),this.addEventListener("ni-cartesian-plot-detached",function(e){var n,i=e.detail.originalSource;n=t.helpers.getIndex(i),t.plotRemoved(n),t.helpers.clearCache()}),this.addEventListener("ni-cartesian-plot-changed",function(e){var n,i=e.detail.originalSource;n=t.helpers.getIndex(i),t.updatePlotName(n,t.helpers.getPlotName(n))}),this.addEventListener("ni-cartesian-plot-renderer-changed",function(e){var n,i=e.detail.originalSource;n=t.helpers.rendererToIndex(i),t.plotLegendItemDisplay.updateShape(n)}),this.addEventListener("ni-cartesian-plot-renderer-attached",function(e){var n,i=e.detail.originalSource;t.helpers.clearCache(),n=t.helpers.rendererToIndex(i),t.plotLegendItemDisplay.updateShape(n)}),this.addEventListener("ni-cartesian-plot-renderer-detached",function(e){var n,i=e.detail.originalSource;t.helpers.clearCache(),n=t.helpers.rendererToIndex(i),t.plotLegendItemDisplay.updateShape(n)});var n=this.findGraph();null!==n&&this.attachToGraph(n)}},{key:"createRow",value:function(e,n){var i,a,s,l,o,r,d,h,p=this;i=document.createElement("tr"),e.appendChild(i),a=document.createElement("div"),a.id="expander"+n,a.className="ni-plot-legend-box",i.appendChild(a),s=document.createElement("div"),s.id="header"+n,s.className="ni-master-row",a.appendChild(s),o=document.createElement("div"),o.className="ni-plot-display",s.appendChild(o),this.plotLegendItemDisplay.createHeaderDisplay(o,n),this.plotLegendItemDisplay.updateShape(n),h=document.createElement("span"),h.className="ni-plot-title",r=this.helpers.getPlotName(n),d=document.createTextNode(r),h.appendChild(d),s.appendChild(h),l=document.createElement("div"),l.id="content"+n,l.className="ni-details-box",a.appendChild(l),t(a).jqxExpander({expanded:!1,disabled:this.isInEditMode,expandAnimationDuration:50,collapseAnimationDuration:50,initContent:function(){p.loadContent(l,n)}}),t(a).on("expanded",function(){if(this!==p.currentExpander){var e=p.currentExpander;p.currentExpander=this,null!==e&&t(e).jqxExpander({expanded:!1})}}),this.applyFont()}},{key:"updatePlotName",value:function(e,n){var i=t(this.tbl).find(".ni-plot-title");t(i[e]).text(n)}},{key:"loadContent",value:function(t,n){var i,a,s,l,o,r,d,h;for(t.style.height=30*(this.helpers.menu.length+1)+10+"px",i=document.createElement("table"),i.className="ni-details",t.appendChild(i),s=0;s<this.helpers.menu.length;s++){var p=this.helpers.menu[s];a=document.createElement("tr"),a.className="ni-details-row "+(p.cssClass||""),i.appendChild(a),r=document.createElement("td"),r.className="ni-detail-row-title-box",a.appendChild(r),l=document.createElement("span"),l.className="ni-detail-row-title",r.appendChild(l);var c=e.i18n(p.tag);switch("[msg_"===c.substring(0,5)&&(c=p.name+"!"),o=document.createTextNode(c),l.appendChild(o),d=document.createElement("td"),d.className="ni-details-row-operations-box",a.appendChild(d),p.type){case"buttons":this.uihelpers.addButtons(p,d,n);break;case"combobox":h=document.createElement("div"),h.className="ni-selector",d.appendChild(h),this.uihelpers.addComboBox(p,h,n,60);break;case"colorbox":h=document.createElement("div"),h.className="ni-colorbox-selector ni-selector",d.appendChild(h),this.uihelpers.addColorBox(p,h,n);break;case"checkbox":h=document.createElement("div"),h.className="ni-hover-box",d.appendChild(h),this.uihelpers.addCheckBox(p,h,n)}}}},{key:"removeRow",value:function(e,t){var n=e.children[t];this.plotLegendItemDisplay.removeHeaderDisplay(null,t),null!==n&&void 0!==n&&e.removeChild(n)}},{key:"setFont",value:function(e,n,i,a,s){parent.prototype.setFont.call(this,e,n,i,a,s);var l=this.firstElementChild,o=t(l).find(" .jqx-widget-content"),r=t(l).find(" .ni-plot-title"),d=t(l).find(" .ni-detail-row-title");o.css({"font-size":e,"font-family":n,"font-weight":i,"font-style":a}),r.css({"font-size":e,"font-family":n,"font-weight":i,"font-style":a}),d.css({"font-size":e,"font-family":n,"font-weight":i,"font-style":a})}},{key:"applyFont",value:function(){var e=this.firstElementChild,n=t(e).find(" .jqx-widget-content"),i=t(e).find(" .ni-plot-title"),a=t(e).find(" .ni-detail-row-title"),s=t(this).css("font-size"),l=t(this).css("font-family"),o=t(this).css("font-weight"),r=t(this).css("font-style");n.css({"font-size":s,"font-family":l,"font-weight":o,"font-style":r}),i.css({"font-size":s,"font-family":l,"font-weight":o,"font-style":r}),a.css({"font-size":s,"font-family":l,"font-weight":o,"font-style":r})}},{key:"propertyChangedHandler",value:function(e,n,i){switch(babelHelpers.get(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"propertyChangedHandler",this).call(this,e,n,i),e){case"graphName":this.helpers.graph=this.findGraph();break;case"isInEditMode":this.helpers.isInEditMode=this.isInEditMode,t(this.tbl).find(".ni-plot-legend-box").each(function(){t(this).jqxExpander({disabled:this.isInEditMode})})}}}]),s}(NationalInstruments.HtmlVI.Elements.GraphLegend);JQX("ni-plot-legend",a)}();
"use strict";!function(){var e=NationalInstruments.HtmlVI.NISupport;NationalInstruments.HtmlVI.Elements.PlotLegendHelpers=function(){this.graph=null,this.isInEditMode=!1,this.defaultPlotColors=["rgba(123, 22, 26, 1)","rgba(0, 142, 228, 1)","rgba(226, 182, 131, 1)","rgba(183, 172, 31, 1)","rgba(174, 220, 239, 1)","rgba(160, 139, 176, 1)","rgba(127, 127, 127, 1)","rgba(60, 7, 38, 1)"],this.lineStyleValues={dot:"1, 2",dashdot:"3, 3, 1, 3",mediumdash:"3, 3",largedash:"5, 4",solid:"0"},this.renderers=[]};var l=NationalInstruments.HtmlVI.Elements.PlotLegendHelpers,i=l.prototype;i.menu=[{name:"Plot Style",tag:"msg_plotstyle",type:"buttons",children:[{name:"Line",tag:"msg_line",cssClass:"ni-line-style-icon"},{name:"Point",tag:"msg_point",cssClass:"ni-point-style-icon"},{name:"Line & Point",tag:"msg_lineandpoint",cssClass:"ni-line-and-point-style-icon"},{name:"Bar",tag:"msg_bar",cssClass:"ni-bar-style-icon"},{name:"Fill",tag:"msg_fill",cssClass:"ni-fill-style-icon"}]},{name:"Point Style",tag:"msg_pointstyle",type:"buttons",children:[{name:"Ellipse",tag:"msg_ellipse",cssClass:"ni-ellipse-point-style-icon"},{name:"Rectangle",tag:"msg_rectangle",cssClass:"ni-rect-point-style-icon"},{name:"Diamond",tag:"msg_diamond",cssClass:"ni-diamond-point-style-icon"},{name:"Cross",tag:"msg_cross",cssClass:"ni-cross-point-style-icon"},{name:"Plus",tag:"msg_plus",cssClass:"ni-plus-point-style-icon"}]},{name:"Line Width",tag:"msg_linewidth",cssClass:"line_width",type:"combobox",children:[{name:"No line",tag:"msg_noline",cssClass:""},{name:"1-pixel",tag:"msg_1pixel",cssClass:"ni-1-pixel-line-width-icon"},{name:"2-pixels",tag:"msg_2pixels",cssClass:"ni-2-pixels-line-width-icon"},{name:"3-pixels",tag:"msg_3pixels",cssClass:"ni-3-pixels-line-width-icon"},{name:"4-pixels",tag:"msg_4pixels",cssClass:"ni-4-pixels-line-width-icon"},{name:"5-pixels",tag:"msg_5pixels",cssClass:"ni-5-pixels-line-width-icon"}]},{name:"Line Style",tag:"msg_linestyle",cssClass:"line_style",type:"combobox",children:[{name:"No style",tag:"msg_nostyle",cssClass:""},{name:"Solid",tag:"msg_solid",cssClass:"ni-solid-line-style-icon"},{name:"Dot",tag:"msg_dot",cssClass:"ni-dot-line-style-icon"},{name:"Dot-dash",tag:"msg_dashdot",cssClass:"ni-dot-dash-line-style-icon"},{name:"Medium dash",tag:"msg_mediumdash",cssClass:"ni-medium-dash-line-style-icon"},{name:"Large dash",tag:"msg_largedash",cssClass:"ni-large-dash-line-style-icon"}]},{name:"Fill Baseline",tag:"msg_fillbaseline",type:"buttons",children:[{name:"Zero",tag:"msg_zero",cssClass:"ni-fill-to-zero-style-icon"},{name:"-Inf",tag:"msg_neginf",cssClass:"ni-fill-base-line-negative-infinity-icon"},{name:"Inf",tag:"msg_inf",cssClass:"ni-fill-base-line-positive-infinity-icon"}]},{name:"Color",tag:"msg_color",type:"colorbox",children:[]},{name:"Hover",tag:"msg_hover",cssClass:"hover",type:"checkbox",children:[]}],i.addRenderer=function(){},i.clearRenderer=function(e){this.renderers[e]=null},i.clearCache=function(){for(var e=0;e<this.renderers.length;e++)this.renderers[e]=null},i.getPlot=function(e){var i=0,a=null,s=this.graph;if(null!==s)for(l in s.childNodes)if("ni-cartesian-plot"===s.childNodes[l].localName){if(i===e){a=s.childNodes[l];break}i++}return a},i.getIndex=function(e){var l,i;return i=e._parentGraph,null!==i&&(l=i.plots.indexOf(e)),l},i.getPlotName=function(l){var i=this.getPlot(l);return i&&"string"==typeof i.label?i.label:e.i18n("msg_defaultplotname")},i.getRenderer=function(e){var l=null,i=null;if(null===this.renderers[e]||void 0===this.renderers[e]){if(l=this.getPlot(e),null!==l&&(i=l.lastElementChild),null===i)return null;this.renderers[e]=i}return this.renderers[e]},i.rendererToIndex=function(e){var l,i,a,s=0;if(null!==(i=this.graph))for(a in i.childNodes)if("ni-cartesian-plot"===i.childNodes[a].localName){if(i.childNodes[a].lastElementChild===e){l=s;break}s++}return l},i.handleClick=function(e,l,i){if(!0!==this.isInEditMode){var a,s="",n=this.getRenderer(i);if(null===n)return;switch(""!==n.lineStroke&&(s=n.lineStroke),""!==n.pointColor&&(s=n.pointColor),""!==n.barFill&&(s=n.barFill),""!==n.areaFill&&(s=n.areaFill),e){case"No line":n.lineWidth=0;break;case"1-pixel":n.lineWidth=1;break;case"2-pixels":n.lineWidth=2;break;case"3-pixels":n.lineWidth=3;break;case"4-pixels":n.lineWidth=4;break;case"5-pixels":n.lineWidth=5;break;case"Line":n.lineStroke=s,n.pointColor="",n.barFill="",n.areaFill="";break;case"Point":n.lineStroke="",n.pointColor=s,n.barFill="",n.areaFill="";break;case"Line & Point":n.lineStroke=s,n.pointColor=s,n.barFill="",n.areaFill="";break;case"Bar":n.lineStroke="",n.pointColor="",n.barFill=s,n.areaFill="";break;case"Fill":n.lineStroke="",n.pointColor="",n.barFill="",n.areaFill=s;break;case"Ellipse":n.pointShape="ellipse";break;case"Rectangle":n.pointShape="rectangle";break;case"Diamond":n.pointShape="diamond";break;case"Cross":n.pointShape="cross";break;case"Plus":n.pointShape="plus";break;case"No style":n.lineStyle="";break;case"Solid":n.lineStyle="solid";break;case"Dot":n.lineStyle="dot";break;case"Dot-dash":n.lineStyle="dashdot";break;case"Medium dash":n.lineStyle="mediumdash";break;case"Large dash":n.lineStyle="largedash";break;case"Zero":n.areaBaseLine="zero";break;case"-Inf":n.areaBaseLine="negativeinfinity";break;case"Inf":n.areaBaseLine="positiveinfinity";break;case"Color":""!==n.lineStroke?n.lineStroke="#"+l.hex:""!==n.pointColor?n.pointColor="#"+l.hex:""!==n.barFill?n.barFill="#"+l.hex:""!==n.areaFill&&(n.areaFill="#"+l.hex);break;case"Hover":a=this.getPlot(i),a.enableHover=l}}},i.getState=function(e,l){var i,a=this.getRenderer(l);if(null!==a){var s;switch(e){case"No line":s=0===a.lineWidth;break;case"1-pixel":s=1===a.lineWidth;break;case"2-pixels":s=2===a.lineWidth;break;case"3-pixels":s=3===a.lineWidth;break;case"4-pixels":s=4===a.lineWidth;break;case"5-pixels":s=5===a.lineWidth;break;case"Line":s=""!==a.lineStroke&&""===a.pointColor;break;case"Point":s=""===a.lineStroke&&""!==a.pointColor;break;case"Line & Point":s=""!==a.lineStroke&&""!==a.pointColor;break;case"Bar":s=""!==a.barFill;break;case"Fill":s=""!==a.areaFill;break;case"Ellipse":s="ellipse"===a.pointShape;break;case"Rectangle":s="rectangle"===a.pointShape;break;case"Diamond":s="diamond"===a.pointShape;break;case"Cross":s="cross"===a.pointShape;break;case"Plus":s="plus"===a.pointShape;break;case"No style":s=""===a.lineStyle;break;case"Solid":s="solid"===a.lineStyle;break;case"Dot":s="dot"===a.lineStyle;break;case"Dot-dash":s="dashdot"===a.lineStyle;break;case"Medium dash":s="mediumdash"===a.lineStyle;break;case"Large dash":s="largedash"===a.lineStyle;break;case"Zero":s="zero"===a.areaBaseLine||""===a.areaBaseLine;break;case"-Inf":s="negativeinfinity"===a.areaBaseLine;break;case"Inf":s="positiveinfinity"===a.areaBaseLine;break;case"Color":s=this.getPlotColorFromRenderer(a);break;case"Hover":i=this.getPlot(l),s=i.enableHover}return s}},i.getPlotColor=function(e){var l=this.getRenderer(e);return null!==l?this.getPlotColorFromRenderer(l):this.defaultPlotColors[e%this.defaultPlotColors.length]},i.getPlotColorFromRenderer=function(e){var l="rgba(0, 0, 0, 1)";return""!==e.lineStroke?l=e.lineStroke:""!==e.pointColor?l=e.pointColor:""!==e.barFill?l=e.barFill:""!==e.areaFill&&(l=e.areaFill),l},i.getLineWidth=function(e){var l=this.getRenderer(e);return null!==l?l.lineWidth:1},i.getLineShape=function(e){var l="line",i=this.getRenderer(e);return null!==i&&(""!==i.lineStroke&&""===i.pointColor?l="line":""===i.lineStroke&&""!==i.pointColor?l="points":""!==i.lineStroke&&""!==i.pointColor?l="line & point":""!==i.barFill?l="bar":""!==i.areaFill&&(l="fill")),l},i.getLineStyle=function(e){var l=this.getRenderer(e);if(null!==l)switch(l.lineStyle){case"dot":return this.lineStyleValues.dot;case"dashdot":return this.lineStyleValues.dashdot;case"mediumdash":return this.lineStyleValues.mediumdash;case"largedash":return this.lineStyleValues.largedash;default:return this.lineStyleValues.solid}return"0"},i.getPointShape=function(e){var l=this.getRenderer(e);return null!==l?l.pointShape:"ellipse"}}();
"use strict";!function(){NationalInstruments.HtmlVI.Elements.PlotLegendItemDisplay=function(t){this.pointTypes=[{name:"ellipse",creator:p},{name:"rectangle",creator:a},{name:"diamond",creator:o},{name:"cross",creator:h},{name:"plus",creator:u}],this.lineTypes=[{name:"line",creator:s},{name:"fill",creator:n},{name:"bar",creator:r},{name:"points",creator:l}],this.shapes=[],this.helpers=t};var t=NationalInstruments.HtmlVI.Elements.PlotLegendItemDisplay,e=t.prototype;e.createHeaderDisplay=function(t,e){var s,n;s="http://www.w3.org/2000/svg",n=document.createElementNS(s,"svg"),n.setAttribute("width","16"),n.setAttribute("height","16"),n.setAttribute("viewBox","0,0,16,16"),n.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),t.appendChild(n);var r=document.createElementNS(s,"g"),l=this;n.appendChild(r),this.shapes[e]={},this.shapes[e].shapesGroup=r,i(e,r,s,l),r.setAttribute("stroke","rgba(255, 0, 0, 1)")},e.removeHeaderDisplay=function(t,e){this.shapes.splice(e,1)};var i=function(t,e,i,s){var n;for(n=0;n<s.lineTypes.length;n++)s.lineTypes[n].creator(t,e,i,s)},s=function(t,e,i,s){var n=document.createElementNS(i,"polyline");n.setAttribute("points","0,15 5,5 10,10 15,0"),n.setAttribute("fill","none"),n.setAttribute("stroke-width",s.helpers.getLineWidth(t)),n.setAttribute("stroke-dasharray",s.helpers.getLineStyle(t)),e.appendChild(n),s.shapes[t].shapesGroup.line=n},n=function(t,e,i,s){var n=document.createElementNS(i,"polyline");n.setAttribute("points","0,15 5,5 10,10 15,0, 15,15, 0,15"),n.setAttribute("fill",s.helpers.getPlotColor(t)),n.setAttribute("stroke-width",s.helpers.getLineWidth(t)),n.setAttribute("visibility","hidden"),e.appendChild(n),s.shapes[t].shapesGroup.fill=n},r=function(t,e,i,s){var n=document.createElementNS(i,"polyline");n.setAttribute("points","1.5,15.5 1.5,12.5, 4.5,12.5 4.5,15.5 6.5,15.5 6.5,3.5, 9.5,3.5 9.5,15.5 11.5,15.5 11.5,7.5 14.5,7.5 14.5,15.5 1.5,15.5"),n.setAttribute("fill",s.helpers.getPlotColor(t)),n.setAttribute("stroke-width",1),n.setAttribute("visibility","hidden"),e.appendChild(n),s.shapes[t].shapesGroup.bar=n},l=function(t,e,i,s){var n,r,l,p,a=[{x:.5,y:15.5},{x:10.5,y:10.5},{x:5.5,y:5.5},{x:15.5,y:.5}],o=document.createElementNS(i,"g");for(s.shapes[t].shapesGroup.points=o,r=0;r<s.pointTypes.length;r++){for(l=document.createElementNS(i,"g"),n=0;n<4;n++)p=s.pointTypes[r].creator(i,a[n],4),l.appendChild(p);l.setAttribute("fill",s.helpers.getPlotColor(t)),l.setAttribute("stroke-width",1),l.setAttribute("visibility","hidden"),o.appendChild(l),s.shapes[t].shapesGroup.points[s.pointTypes[r].name]=l}e.appendChild(o)},p=function(t,e,i){var s=document.createElementNS(t,"circle");return s.setAttribute("cx",e.x),s.setAttribute("cy",e.y),s.setAttribute("r",i/2),s},a=function(t,e,i){var s=document.createElementNS(t,"rect");return s.setAttribute("x",e.x-i/2),s.setAttribute("y",e.y-i/2),s.setAttribute("width",i),s.setAttribute("height",i),s},o=function(t,e,i){var s=document.createElementNS(t,"path"),n="M"+(e.x-i/2)+","+e.y;return n+=" L"+e.x+","+(e.y-i/2),n+=" L"+(e.x+i/2)+","+e.y,n+=" L"+e.x+","+(e.y+i/2),n+=" Z",s.setAttribute("d",n),s},h=function(t,e,i){var s=document.createElementNS(t,"path"),n="M"+(e.x-i/2)+","+(e.y-i/2);return n+=" L"+(e.x+i/2)+","+(e.y+i/2),n+="M"+(e.x+i/2)+","+(e.y-i/2),n+=" L"+(e.x-i/2)+","+(e.y+i/2),s.setAttribute("d",n),s},u=function(t,e,i){var s=document.createElementNS(t,"path"),n="M"+e.x+","+(e.y-i/2);return n+=" L"+e.x+","+(e.y+i/2),n+="M"+(e.x-i/2)+","+e.y,n+=" L"+(e.x+i/2)+","+e.y,s.setAttribute("d",n),s};e.updateLinesAttributes=function(t,e,i){var s=this.helpers.getLineShape(t);"line"!==s&&"line & point"!==s||(e.line.setAttribute("stroke-width",this.helpers.getLineWidth(t)),e.line.setAttribute("stroke-dasharray",this.helpers.getLineStyle(t))),e.fill.setAttribute("fill",i),e.bar.setAttribute("fill",i);for(var n=0;n<this.pointTypes.length;n++)e.points[this.pointTypes[n].name].setAttribute("fill",i)},e.updatePointVisibility=function(t,e,i){for(var s=this.helpers.getPointShape(t),n=0;n<this.pointTypes.length;n++)s!==this.pointTypes[n].name||"line & point"!==i&&"points"!==i?e.points[this.pointTypes[n].name].setAttribute("visibility","hidden"):e.points[this.pointTypes[n].name].setAttribute("visibility","visible")},e.updateVisibility=function(t,e){for(var i=this.helpers.getLineShape(t),s=0;s<this.lineTypes.length;s++)i===this.lineTypes[s].name?e[this.lineTypes[s].name].setAttribute("visibility","visible"):e[this.lineTypes[s].name].setAttribute("visibility","hidden");"line & point"===i&&(e.line.setAttribute("visibility","visible"),e.points.setAttribute("visibility","visible")),this.updatePointVisibility(t,e,i)},e.updateShape=function(t){var e=this.shapes[t];if(void 0!==e&&null!==e){var i=this.helpers.getPlotColor(t);this.updateLinesAttributes(t,e.shapesGroup,i),this.updateVisibility(t,e.shapesGroup),e.shapesGroup.setAttribute("stroke",i)}}}();
"use strict";!function(){var e=NationalInstruments.Globals.jQuery,t=NationalInstruments.HtmlVI.NISupport,n=function(n){function i(){return babelHelpers.classCallCheck(this,i),babelHelpers.possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return babelHelpers.inherits(i,n),babelHelpers.createClass(i,[{key:"created",value:function(){babelHelpers.get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"created",this).call(this),this.table=void 0,this.selectedRow=null,this.addButton=null,this.deleteButton=null,this.centerButton=null,this.currentRow=null,this.currentBtn=null,this.observer=null,this.helpers=new NationalInstruments.HtmlVI.Elements.CursorLegendHelpers,this.cursorLegendItemDisplay=new NationalInstruments.HtmlVI.Elements.CursorLegendItemDisplay(this.helpers),this.uihelpers=new NationalInstruments.HtmlVI.Elements.LegendHelpers(this.helpers,this.cursorLegendItemDisplay)}},{key:"cursorAdded",value:function(e){var t=this;t.createRow(t.table,e),t.helpers.cursorAdded(e),t.helpers.cursorPositionChanged(e,function(n,i){t.updatePosition(e,n,i)})}},{key:"updatePosition",value:function(e,t,n){if(e._parentGraph){var i=e.niControlId,s=this.querySelector("#x_"+i),l=this.querySelector("#y_"+i),o=e._parentGraph.graph,a=o.formatCursorPosition(o,e.cursor);null!==s&&void 0!==t&&(s.innerText=a.xTextValue),null!==l&&void 0!==n&&(l.innerText=a.yTextValue)}}},{key:"cursorRemoved",value:function(t){var n=this.helpers.getIndex(t);n>=0&&(e(this).find(".ni-master-row").eq(n).remove(),e(this).find(".ni-details-box").eq(n).remove(),this.cursorLegendItemDisplay.clearShape(n),this.helpers.cursorRemoved(t))}},{key:"cursorChanged",value:function(e){this.cursorLegendItemDisplay.updateShape(e),this.updateName(e),this.updateVisible(e)}},{key:"updateName",value:function(t){e("#name_"+t.niControlId).text(this.helpers.getState("name",t))}},{key:"updateVisible",value:function(t){this.helpers.getState("visible",t)?e("#visible_"+t.niControlId).removeClass("ni-visibility-off-icon").addClass("ni-visibility-on-icon"):e("#visible_"+t.niControlId).removeClass("ni-visibility-on-icon").addClass("ni-visibility-off-icon")}},{key:"attachToGraph",value:function(e){e.isReady&&e.registerCursorLegend(this)}},{key:"attached",value:function(){babelHelpers.get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"attached",this).call(this);var n=this;n.helpers.graph=n.findGraph(),n.helpers.isInEditMode=n.isInEditMode;var s=document.createElement("div");s.style.width="100%",s.style.height="100%",s.id="div"+t.uniqueId(),n.appendChild(s),n.table=document.createElement("table"),n.table.className="ni-cursors-box",s.appendChild(n.table);var l=document.createElement("div");s.appendChild(l);var o=document.createElement("button");o.className="ni-add-icon ni-command-button",e(o).jqxButton(),l.appendChild(o),n.addButton=o,e(o).on("click",function(){n.helpers.addCursor()}),n.addEventListener("ni-cursor-attached",function(e){n.cursorAdded(e.detail.originalSource)}),n.addEventListener("ni-cursor-detached",function(e){n.cursorRemoved(e.detail.originalSource)}),n.addEventListener("ni-cursor-changed",function(e){n.cursorChanged(e.detail.originalSource)});var a=this.findGraph();null!==a&&this.attachToGraph(a)}},{key:"createRow",value:function(t,n){var i=this,s=i.createMainRow(t,n),l=i.createDetailsRow(t,n);e(s).on("click",function(){if(i.currentRow!==l){var e=i.currentRow,t=i.currentBtn;l.style.display="table-row",i.currentRow=l,s.classList.remove("ni-closed-icon"),s.classList.add("ni-open-icon"),i.currentBtn=s,null!==e&&(e.style.display="none"),null!==t&&(t.classList.remove("ni-open-icon"),t.classList.add("ni-closed-icon"))}else l.style.display="none",s.classList.remove("ni-open-icon"),s.classList.add("ni-closed-icon"),i.currentRow=null,i.currentBtn=null}),i.applyFont()}},{key:"createMainRow",value:function(t,n){var i,s=this;i=n.niControlId;var l,o,a,d,r,c,u,p,h,m,f,y;return l=document.createElement("tr"),l.className="ni-master-row",t.appendChild(l),o=document.createElement("td"),o.className="ni-expand-box",l.appendChild(o),f=document.createElement("input"),f.className="ni-expand-button ni-closed-icon",f.type="button",f.id="details_"+i,o.appendChild(f),e(f).jqxButton({width:20,height:20,disabled:s.isInEditMode}),a=document.createElement("td"),a.className="ni-cursor-box",l.appendChild(a),h=s.cursorLegendItemDisplay.createHeaderDisplay(n),null!==h&&(h.id="display_"+i,a.appendChild(h)),u=document.createElement("span"),u.className="ni-cursor-title",u.id="name_"+i,p=document.createTextNode(s.helpers.getState("name",n)),u.appendChild(p),a.appendChild(u),d=document.createElement("td"),d.className="ni-x-box",l.appendChild(d),u=document.createElement("span"),u.className="ni-x-title",u.id="x_"+i,p=document.createTextNode(parseFloat(s.helpers.getState("x",n))),u.appendChild(p),d.appendChild(u),r=document.createElement("td"),r.className="ni-y-box",l.appendChild(r),u=document.createElement("span"),u.className="ni-y-title",u.id="y_"+i,p=document.createTextNode(parseFloat(s.helpers.getState("y",n))),u.appendChild(p),r.appendChild(u),c=document.createElement("td"),c.className="ni-actions-box",l.appendChild(c),m=document.createElement("input"),m.className="ni-delete-icon ni-action-button",m.type="button",m.id="delete"+i,c.appendChild(m),e(m).on("click",function(){s.helpers.handleClick("delete","",n)}),e(m).jqxToggleButton({disabled:s.isInEditMode}),m=document.createElement("input"),m.className="ni-center-icon ni-action-button",m.type="button",m.id="center"+i,c.appendChild(m),e(m).on("click",function(){s.helpers.handleClick("center","",n)}),e(m).jqxButton({disabled:s.isInEditMode}),m=document.createElement("input"),m.className="ni-snap-icon ni-action-button",m.type="button",m.id="snap_"+i,c.appendChild(m),e(m).on("click",function(){s.helpers.handleClick("snap","",n)}),e(m).jqxToggleButton({disabled:s.isInEditMode}),m=document.createElement("input"),m.className="ni-visibility-button ni-action-button",m.type="button",m.id="visible_"+i,y=s.helpers.getState("visible",n),y?m.classList.add("ni-visibility-on-icon"):m.classList.add("ni-visibility-off-icon"),e(m).on("click",function(){s.helpers.handleClick("visible","",n)}),c.appendChild(m),e(m).jqxToggleButton({disabled:s.isInEditMode}),f}},{key:"createDetailsItem",value:function(e,t,n){var i,s,l,o,a,d;return i=document.createElement("tr"),i.className="ni-details-row",e.appendChild(i),s=document.createElement("td"),s.className="ni-details-row-title-box",i.appendChild(s),a=document.createElement("span"),a.class="ni-details-row-title",s.appendChild(a),d=document.createTextNode(t),a.appendChild(d),l=document.createElement("td"),l.className="ni-details-row-control-box",i.appendChild(l),o=document.createElement("div"),o.className=n,l.appendChild(o),o}},{key:"createDetailsRow",value:function(e,t){var n,i,s,l;return i=document.createElement("tr"),i.className="ni-details-box",i.style.display="none",e.appendChild(i),s=document.createElement("td"),s.colSpan=5,i.appendChild(s),n=document.createElement("table"),n.className="ni-details",s.appendChild(n),l=this.createDetailsItem(n,"Color","ni-colorbox-selector ni-selector"),this.uihelpers.addColorBox({name:"Color"},l,t),l=this.createDetailsItem(n,"Shape","ni-shape-selector ni-selector"),this.uihelpers.addComboBox(this.helpers.getMenuItem("shape"),l,t,16),l=this.createDetailsItem(n,"Crosshair","ni-crosshair-selector ni-selector"),this.uihelpers.addComboBox(this.helpers.getMenuItem("crosshair"),l,t,16),i}},{key:"setFont",value:function(t,n,i,s,l){parent.prototype.setFont.call(this,t,n,i,s,l);var o=this.firstElementChild,a=e("#"+o.id+" .jqx-widget-content"),d=e("#"+o.id+" .ni-cursor-title"),r=e("#"+o.id+" .ni-x-title"),c=e("#"+o.id+" .ni-y-title"),u=e("#"+o.id+" .ni-details-title");a.css({"font-size":t,"font-family":n,"font-weight":i,"font-style":s}),d.css({"font-size":t,"font-family":n,"font-weight":i,"font-style":s}),r.css({"font-size":t,"font-family":n,"font-weight":i,"font-style":s}),c.css({"font-size":t,"font-family":n,"font-weight":i,"font-style":s}),u.css({"font-size":t,"font-family":n,"font-weight":i,"font-style":s})}},{key:"applyFont",value:function(){var t=this.firstElementChild,n=e("#"+t.id+" .jqx-widget-content"),i=e("#"+t.id+" .ni-cursor-title"),s=e("#"+t.id+" .ni-x-title"),l=e("#"+t.id+" .ni-y-title"),o=e("#"+t.id+" .ni-details-title"),a=e(this).css("font-size"),d=e(this).css("font-family"),r=e(this).css("font-weight"),c=e(this).css("font-style");n.css({"font-size":a,"font-family":d,"font-weight":r,"font-style":c}),i.css({"font-size":a,"font-family":d,"font-weight":r,"font-style":c}),s.css({"font-size":a,"font-family":d,"font-weight":r,"font-style":c}),l.css({"font-size":a,"font-family":d,"font-weight":r,"font-style":c}),o.css({"font-size":a,"font-family":d,"font-weight":r,"font-style":c})}},{key:"propertyChangedHandler",value:function(t,n,s){switch(babelHelpers.get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"propertyChangedHandler",this).call(this,t,n,s),t){case"graphName":this.helpers.graph=this.findGraph();break;case"isInEditMode":this.helpers.isInEditMode=this.isInEditMode,null!==this.addButton&&(this.addButton.disabled=this.isInEditMode),null!==this.deleteButton&&(this.deleteButton.disabled=this.isInEditMode),null!==this.centerButton&&(this.centerButton.disabled=this.isInEditMode),e(this.table).find(".ni-expand-button").each(function(){e(this).jqxButton({disabled:this.isInEditMode})}),e(this.table).find(".ni-visibility-button").each(function(){e(this).jqxToggleButton({disabled:this.isInEditMode})}),e(this.table).find(".ni-snap-icon").each(function(){e(this).jqxToggleButton({disabled:this.isInEditMode})})}}}]),i}(NationalInstruments.HtmlVI.Elements.GraphLegend);JQX("ni-cursor-legend",n)}();
"use strict";!function(){NationalInstruments.HtmlVI.Elements.CursorLegendItemDisplay=function(t){this.helpers=t,this.items=[]};var t=NationalInstruments.HtmlVI.Elements.CursorLegendItemDisplay,e=t.prototype,i="http://www.w3.org/2000/svg";e.clearShape=function(t){this.items.splice(t,1)},e.createHeaderDisplay=function(t){var e;return void 0===t?null:(e=document.createElementNS(i,"svg"),e.setAttribute("class","ni-cursor-display"),e.setAttribute("width","16"),e.setAttribute("height","16"),e.setAttribute("viewBox","0,0,16,16"),e.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),this.addShapes(t,e,i),this.items.push(e),e)},e.addShapes=function(t,e,i){this.makeShape(t,e,i),this.makeCursorCross(t,e,i)},e.makeCursorCross=function(t,e,i){switch(t.crosshairStyle){case"none":break;case"vertical":this.makeLine(t,e,i,"8","1","8","4"),this.makeLine(t,e,i,"8","12","8","15");break;case"horizontal":this.makeLine(t,e,i,"12","8","15","8"),this.makeLine(t,e,i,"1","8","4","8");break;default:this.makeLine(t,e,i,"8","1","8","4"),this.makeLine(t,e,i,"12","8","15","8"),this.makeLine(t,e,i,"8","12","8","15"),this.makeLine(t,e,i,"1","8","4","8")}},e.makeShape=function(t,e,i){var s,r,a=t.targetShape,n=t.cursorColor;switch(a){case"ellipse":r=document.createElementNS(i,"circle"),r.setAttribute("cx","8"),r.setAttribute("cy","8"),r.setAttribute("r","4"),r.setAttribute("stroke",n),r.setAttribute("stroke-width","1"),r.setAttribute("fill","rgba(0, 0, 0, 0)"),e.appendChild(r);break;case"rectangle":s=document.createElementNS(i,"rect"),s.setAttribute("x","4"),s.setAttribute("y","4"),s.setAttribute("width","8"),s.setAttribute("height","8"),s.setAttribute("stroke",n),s.setAttribute("stroke-width","1"),s.setAttribute("fill","rgba(0, 0, 0, 0)"),e.appendChild(s);break;case"diamond":this.makeLine(t,e,i,"8","4","12","8"),this.makeLine(t,e,i,"12","8","8","12"),this.makeLine(t,e,i,"8","12","4","8"),this.makeLine(t,e,i,"4","8","8","4");break;case"cross":this.makeLine(t,e,i,"4","4","12","12"),this.makeLine(t,e,i,"4","12","12","4");break;case"plus":this.makeLine(t,e,i,"8","4","8","12"),this.makeLine(t,e,i,"4","8","12","8")}},e.makeLine=function(t,e,i,s,r,a,n){var h=document.createElementNS(i,"line");h.setAttribute("x1",s),h.setAttribute("y1",r),h.setAttribute("x2",a),h.setAttribute("y2",n),h.setAttribute("stroke",t.cursorColor),h.setAttribute("stroke-width",1),e.appendChild(h)},e.updateShape=function(t){var e=this.helpers.getIndex(t),s=this.items[e];if(void 0===t)return null;if(void 0===s)return null;for(;s.firstChild;)s.removeChild(s.firstChild);this.addShapes(t,s,i)}}();
"use strict";!function(){var s=NationalInstruments.HtmlVI.NISupport,e=NationalInstruments.Globals.jQuery;NationalInstruments.HtmlVI.Elements.CursorLegendHelpers=function(){this.graph=null,this.isInEditMode=!1,this.cursors=[],this.defaultCursorName=s.i18n("msg_defaultcursorname")};var r=NationalInstruments.HtmlVI.Elements.CursorLegendHelpers,a=r.prototype;a.getMenuItem=function(s){return"shape"===s?{name:"Target Shape",tag:"msg_targetshape",children:[{name:"Ellipse",tag:"msg_ellipse",cssClass:"ni-ellipse-point-style-icon"},{name:"Rectangle",tag:"msg_rectangle",cssClass:"ni-rect-point-style-icon"},{name:"Diamond",tag:"msg_diamond",cssClass:"ni-diamond-point-style-icon"},{name:"Cross",tag:"msg_cross",cssClass:"ni-cross-point-style-icon"},{name:"Plus",tag:"msg_plus",cssClass:"ni-plus-point-style-icon"}]}:"crosshair"===s?{name:"Crosshair Style",tag:"msg_crosshairstyle",children:[{name:"No style",tag:"msg_nostyle",cssClass:"ni-no-crosshair-icon"},{name:"Vertical",tag:"msg_vertical",cssClass:"ni-vertical-crosshair-icon"},{name:"Horizontal",tag:"msg_horizontal",cssClass:"ni-horizontal-crosshair-icon"},{name:"Both",tag:"msg_both",cssClass:"ni-both-crosshair-icon"}]}:void 0},a.cursorAdded=function(s){var e;for(e=0;e<this.cursors.length;e++)if(this.cursors[e].niControlId===s.niControlId)return;this.cursors.push(s)},a.cursorRemoved=function(s){var e;for(e=0;e<this.cursors.length;e++)if(this.cursors[e].niControlId===s.niControlId)return void this.cursors.splice(e,1)},a.addCursor=function(){var e=this.graph,r=document.createElement("ni-cursor");r.niControlId=s.uniqueId(),r.show=!0,r.showValue=!0,this.cursors.push(r),r.label=this.nextCursorName(),e.appendChild(r)},a.cursorPositionChanged=function(s,r){if(void 0===s)throw new Error("cursor is undefined");e(s).on("cursorUpdated",function(s,e){r(e.x,e.y)})},a.getCursor=function(s){var e,r,a=0,t=null;if(null===this.cursors[s]||void 0===this.cursors[s]){if(null!==(e=this.graph))for(r in e.childNodes)if("ni-cursor"===e.childNodes[r].localName){if(a===s){t=e.childNodes[r];break}a++}null!==t&&(this.cursors[s]=t)}return this.cursors[s]},a.nextCursorName=function(){var s,e,a=0,t=this.graph;if(null!==t)for(r in t.childNodes)"ni-cursor"===t.childNodes[r].localName&&(e=t.childNodes[r],(s=parseInt(e.label.substring(this.defaultCursorName.length)))>a&&(a=s));return this.defaultCursorName+" "+(a+1)},a.deleteCursor=function(s){var e=this.graph;null!==s&&void 0!==s&&e.removeChild(s)},a.getIndex=function(s){var e,r=-1;for(e=0;e<this.cursors.length;e++)null!==this.cursors[e]&&s.niControlId===this.cursors[e].niControlId&&(r=e);return r},a.handleClick=function(s,e,r){if(null!==r||void 0!==r)switch(s){case"name":case"x":case"y":break;case"visible":r.show=!r.show;break;case"snap":r.snapToData=!r.snapToData;break;case"center":r.x=.5,r.y=.5;break;case"delete":this.deleteCursor(r);break;case"Ellipse":r.targetShape="ellipse";break;case"Rectangle":r.targetShape="rectangle";break;case"Diamond":r.targetShape="diamond";break;case"Cross":r.targetShape="cross";break;case"Plus":r.targetShape="plus";break;case"No style":r.crosshairStyle="none";break;case"Vertical":r.crosshairStyle="vertical";break;case"Horizontal":r.crosshairStyle="horizontal";break;case"Both":r.crosshairStyle="both";break;case"Color":r.cursorColor="#"+e.hex}},a.getState=function(s,e){if(null!==e&&void 0!==e){var r;switch(s){case"name":r=e.label;break;case"x":r=e.x;break;case"y":r=e.y;break;case"visible":r=e.show;break;case"snap":r=e.snapToData;break;case"center":case"delete":break;case"Ellipse":r="ellipse"===e.targetShape;break;case"Rectangle":r="rectangle"===e.targetShape;break;case"Diamond":r="diamond"===e.targetShape;break;case"Cross":r="cross"===e.targetShape;break;case"Plus":r="plus"===e.targetShape;break;case"No style":r="none"===e.crosshairStyle;break;case"Vertical":r="vertical"===e.crosshairStyle;break;case"Horizontal":r="horizontal"===e.crosshairStyle;break;case"Both":r="both"===e.crosshairStyle;break;case"Color":r=e.cursorColor}return r}},a.getTargetShape=function(s){var e=this.getCursor(s);return null!==e&&void 0!==e?e.targetShape:"ellipse"},a.getCrosshair=function(s){var e=this.getCursor(s);if(null!==e&&void 0!==e)return e.crosshairStyle}}();
"use strict";!function(){var e=NationalInstruments.Globals.jQuery,t=function(t){function n(){return babelHelpers.classCallCheck(this,n),babelHelpers.possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return babelHelpers.inherits(n,t),babelHelpers.createClass(n,[{key:"created",value:function(){babelHelpers.get(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"created",this).call(this),this.tbl=void 0,this.nScales=0,this.currentExpander=null,this.helpers=new NationalInstruments.HtmlVI.Elements.ScaleLegendHelpers,this.uihelpers=new NationalInstruments.HtmlVI.Elements.LegendHelpers(this.helpers,null)}},{key:"scaleAdded",value:function(){this.createRow(this.tbl,this.nScales),this.helpers.addScale(this.nScales),this.nScales++}},{key:"scaleRemoved",value:function(e){var t,n,i,s,l,a=null;for(s=0,i=0;i<this.tbl.childNodes.length;i++){if("tr"===this.tbl.childNodes[i].localName&&(t=this.tbl.childNodes[i],n=t.childNodes[0],n.innerText===e.label)){a=t,l=s;break}s++}null!==a&&(this.tbl.removeChild(a),this.helpers.clearScale(l)),this.nScales--}},{key:"createRows",value:function(){var e;for(e=0;e<this.nScales;e++)this.createRow(this.tbl,e)}},{key:"attachToGraph",value:function(e){e.isReady&&e.registerScaleLegend(this)}},{key:"attached",value:function(){babelHelpers.get(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"attached",this).call(this);var t=document.createElement("div"),i=this;this.helpers.graph=this.findGraph(),this.helpers.isInEditMode=this.isInEditMode,t.style.width="100%",t.style.height="100%",this.appendChild(t),this.tbl=document.createElement("table"),this.tbl.className="ni-scale-legend-box",t.appendChild(this.tbl),this.addEventListener("ni-cartesian-axis-attached",function(){i.scaleAdded()}),this.addEventListener("ni-cartesian-axis-detached",function(e){i.scaleRemoved(e.detail.originalSource)}),this.addEventListener("ni-axis-changed",function(t){var n=t.detail.originalSource,s=i.helpers.scaleToIndex(n),l=e(this.tbl).find(".ni-row-title"),a=e(this.tbl).find(".ni-lock-button");e(l[s]).first().text(n.label),this.setLockBackground(a[s],!1,s)});var s=this.findGraph();null!==s&&this.attachToGraph(s)}},{key:"createRow",value:function(t,n){var i,s,l,a,o,c,r,d,h=this;i=document.createElement("tr"),t.appendChild(i),s=document.createElement("td"),s.className="ni-row-title-box",i.appendChild(s),o=document.createElement("span"),o.className="ni-row-title",s.appendChild(o);var p=h.helpers.getState("name",n);c=document.createTextNode(p),o.appendChild(c),l=document.createElement("td"),l.className="ni-lock-box",i.appendChild(l),r=document.createElement("button"),r.type="button",r.className="ni-lock-button ni-button",e(r).jqxToggleButton(),e(r).jqxToggleButton({disabled:!this.helpers.getState("canLock",n)}),e(r).on("click",function(){h.helpers.handleClick("lock",n),h.setLockBackground(r,!1,n)}),h.setLockBackground(r,!0,n),l.appendChild(r),a=document.createElement("td"),a.className="ni-scale-once-box",i.appendChild(a),d=document.createElement("button"),d.type="button",d.className="ni-scale-once-icon ni-button",e(d).on("click",function(){h.helpers.handleClick("scaleonce",n),h.setLockBackground(r,!1,n)}),a.appendChild(d),this.applyFont()}},{key:"setLockBackground",value:function(t,n,i){var s=this.helpers.getState("lock",i);void 0!==s&&(!0===n&&e(t).jqxToggleButton({toggled:s}),!0===s?(t.classList.remove("ni-locked-icon"),t.classList.add("ni-unlocked-icon")):(t.classList.remove("ni-unlocked-icon"),t.classList.add("ni-locked-icon")))}},{key:"setFont",value:function(t,n,i,s,l){parent.prototype.setFont.call(this,t,n,i,s,l);var a=this.firstElementChild;e(a).find(" .ni-row-title").css({"font-size":t,"font-family":n,"font-weight":i,"font-style":s})}},{key:"applyFont",value:function(){var t=this.firstElementChild,n=e(t).find(" .ni-row-title"),i=e(this).css("font-size"),s=e(this).css("font-family"),l=e(this).css("font-weight"),a=e(this).css("font-style");n.css({"font-size":i,"font-family":s,"font-weight":l,"font-style":a})}},{key:"propertyChangedHandler",value:function(t,i,s){var l=this;switch(babelHelpers.get(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"propertyChangedHandler",this).call(this,t,i,s),t){case"graphName":this.helpers.graph=this.findGraph();break;case"isInEditMode":this.helpers.isInEditMode=this.isInEditMode,e(this.tbl).find(".ni-lock-button").each(function(){e(this).jqxToggleButton({disabled:l.isInEditMode})}),e(this.tbl).find(".ni-scale-once-icon").each(function(){e(this).prop("disabled",l.isInEditMode)})}}}]),n}(NationalInstruments.HtmlVI.Elements.GraphLegend);JQX("ni-scale-legend",t)}();
"use strict";!function(){NationalInstruments.HtmlVI.Elements.ScaleLegendHelpers=function(){this.graph=null,this.isInEditMode=!1,this.scales=[]};var e=NationalInstruments.HtmlVI.Elements.ScaleLegendHelpers,a=e.prototype;a.addScale=function(){},a.clearScale=function(e){this.scales[e]=null},a.getScale=function(e){var a,l,c=0,i=null;if(null===this.scales[e]||void 0===this.scales[e]){if(null!==(a=this.graph))for(l in a.childNodes)if("ni-cartesian-axis"===a.childNodes[l].localName||"ni-color-scale"===a.childNodes[l].localName){if(c===e){i=a.childNodes[l];break}c++}if(null===i)return null;this.scales[e]=i}return this.scales[e]},a.scaleToIndex=function(e){var a,l,c=0,i=0;if(null!==(a=this.graph))for(l in a.childNodes)if("ni-cartesian-axis"===a.childNodes[l].localName||"ni-color-scale"===a.childNodes[l].localName){if(a.childNodes[l]===e){i=c;break}c++}return i},a.handleClick=function(e,a){if(!0!==this.isInEditMode){var l=this.getScale(a);if(null===l)return;switch(e){case"lock":"none"!==l.autoScale?(l.initialAutoscale=l.autoScale,l.autoScale="none",l.scaleOnce()):l.autoScale=l.initialAutoscale?l.initialAutoscale:"loose";break;case"scaleonce":l.scaleOnce&&l.scaleOnce()}var c=l._parentGraph.graph;c.setupGrid(),c.draw()}},a.getState=function(e,a){var l=this.getScale(a);if(null!==l){var c;switch(e){case"canLock":c="ni-color-scale"!==l.localName;break;case"lock":c="none"!==l.autoScale;break;case"scaleonce":break;case"name":c=l.label}return c}}}();
"use strict";!function(){var e=Object.freeze({LOCKED:"locked",PAN:"pan",ZOOM:"zoom"}),t=e,n=NationalInstruments.Globals.jQuery,a=NationalInstruments.HtmlVI.NISupport,o={};o[t.LOCKED]=[!0,!1,!1],o[t.PAN]=[!1,!0,!1],o[t.ZOOM]=[!1,!1,!0];var i=function(e){function i(){return babelHelpers.classCallCheck(this,i),babelHelpers.possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:"created",value:function(){babelHelpers.get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"created",this).call(this),this._parentGraph=void 0}},{key:"attachToGraph",value:function(e){e.isReady&&(this._parentGraph=e,e.registerGraphTools(this))}},{key:"updateCartesianAxesFromFlot",value:function(){this._parentGraph.axes.forEach(function(e){e instanceof JQX.CartesianAxis&&e.syncWithFlot()})}},{key:"attached",value:function(){babelHelpers.get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"attached",this).call(this);var e,t=this,o=function(e,t){var n=e.options,a=t.from-e.min,o=t.to-e.max;n.offset?(n.offset.below+=a,n.offset.above+=o):n.offset={above:o,below:a}};e=document.createElement("div"),e.id="div"+a.uniqueId(),e.style.width="100%",e.style.height="100%",this.appendChild(e),this.table=document.createElement("table"),this.table.className="ni-graph-tools-box",e.appendChild(this.table),this.addEventListener("ni-cartesian-graph-box-selected",function(e){var a=e.detail.originalSource.ranges,i=t._parentGraph.graph;n.each(i.getXAxes(),function(e,t){!0!==t.options.disableZoom&&o(t,a.xaxis)}),n.each(i.getYAxes(),function(e,t){!0!==t.options.disableZoom&&o(t,a.yaxis)}),i.setupGrid(),i.draw(),i.clearSelection(),this.updateCartesianAxesFromFlot()}),this.addEventListener("ni-cartesian-graph-interaction",function(){this.updateCartesianAxesFromFlot()}),this.addEventListener("ni-cartesian-graph-reCenter",function(){t._parentGraph.axes.forEach(function(e){e.scaleOnce&&e.scaleOnce()});var e=t._parentGraph.graph;e.setupGrid(),e.draw(),this.updateCartesianAxesFromFlot()}),this.createRow(this.table);var r=this.findGraph();null!==r&&r instanceof NationalInstruments.HtmlVI.Elements.CartesianGraphBase&&this.attachToGraph(r)}},{key:"createRow",value:function(e){function a(e,t,a){n(u).jqxToggleButton({disabled:e}),n(h).jqxToggleButton({disabled:t}),n(d).jqxToggleButton({disabled:a})}function i(e){var t=o[e];t&&(a.apply(null,t),m.mode=e)}var r,s,l,c,p,u,h,d,b,m=this;r=document.createElement("tr"),e.appendChild(r),s=document.createElement("td"),s.className="ni-button-box",r.appendChild(s),u=document.createElement("button"),u.type="button",u.className="ni-locked-icon ni-button",n(u).jqxToggleButton(),n(u).on("click",function(){i(t.LOCKED)}),s.appendChild(u),l=document.createElement("td"),l.className="ni-button-box",r.appendChild(l),h=document.createElement("button"),h.type="button",h.className="ni-pan-icon ni-button",n(h).jqxToggleButton(),n(h).on("click",function(){i(t.PAN)}),l.appendChild(h),c=document.createElement("td"),c.className="ni-button-box",r.appendChild(c),d=document.createElement("button"),d.type="button",d.className="ni-zoom-region-icon ni-button",n(d).on("click",function(){i(t.ZOOM)}),c.appendChild(d),i(this.mode),p=document.createElement("td"),p.className="ni-button-box",r.appendChild(p),b=document.createElement("button"),b.type="button",b.className="ni-zoom-out-icon ni-button",n(b).jqxButton({disabled:!1}),n(b).on("click",function(){m._parentGraph.axes.forEach(function(e){e.scaleOnce&&e.scaleOnce()});var e=m._parentGraph.graph;e.setupGrid(),e.draw()}),p.appendChild(b)}},{key:"allowsScrollWheelZoom",value:function(){return this.mode===t.PAN||this.mode===t.ZOOM}},{key:"allowsPan",value:function(){return this.mode===t.PAN}},{key:"sendEventToParentGraph",value:function(e){var t;void 0!==this._parentGraph&&(t={bubbles:!0,cancelable:!0,detail:{element:this}},this._parentGraph.dispatchEvent(new CustomEvent(e,t)))}},{key:"propertyChangedHandler",value:function(e,t,n){switch(babelHelpers.get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"propertyChangedHandler",this).call(this,e,t,n),e){case"graphName":break;case"mode":this.sendEventToParentGraph("ni-graph-tools-changed")}}}],[{key:"properties",get:function(){return Object.assign({},babelHelpers.get(i.__proto__||Object.getPrototypeOf(i),"properties",this),{mode:{value:t.PAN,type:"string"}})}}]),i}(NationalInstruments.HtmlVI.Elements.GraphLegend);JQX("ni-graph-tools",i)}();
//# sourceMappingURL=webcharts-legends.min.js.map
